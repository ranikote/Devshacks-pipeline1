pipeline {
    agent any
    parameters {
        string(
            name: 'DEPLOY_ENV',
            defaultValue: 'dev',
            description: 'environment to deploy to'
        )
        booleanParam(
            name: 'RUN_TESTS',
            defaultValue: true,
            description: 'Run test stage?'
        )
    }
    environment{
        REGION ='ap-south-1'
        BUILD_VERSION = "1.0.${env.BUILD_NUMBER}"
        Cloud = "AWS and Azure"
    }

    stages {
        stage('Built-in-variables') {
            steps {
                echo "Build Number: ${env.BUILD_NUMBER}"
                echo "Build ID: ${env.BUILD_ID} "
                echo "JENKINS_URL: ${env.JENKINS_URL}"
                echo "GIT_BRANCH:  ${env.GIT_BRANCH}"
                echo "JOB_NAME: ${env.JOB_NAME}"
                echo "BUILD_URL:  ${env.BUILD_URL}"
                
               
            }
    
        }
        stage('Pipeline-parameters'){
            steps{
                echo "Deploy Env: ${params.DEPLOY_ENV}"
                echo "Run-Tests: ${params.RUN_TESTS}"
            }
        }
        stage('Custom-parameters'){
            steps{
                echo "REGION: ${env.REGION}"
                echo "BUILD_VERSION: ${env.BUILD_version}"
                echo "Cloud: ${env.cloud}"
            }
            
        }
        stage('Dynamic Custom Vars') {
            steps {
                script {
                
                    env.RUNTIME_VAR = "runtime-${env.BUILD_NUMBER}"
                     echo "DYNAMIC: ${env.RUNTIME_VAR}"
                }

               
            }
        }

    }
}
